function iniciarTelaContato(t) { var o = t.spanInitialValue, n = t.spanEndValue, a = t.nomeContatoObrigatorio, e = t.emailContatoObrigatorio, i = t.formatoInvalidoEmailContato, s = t.telefoneContatoObrigatorio, l = (t.formatoInvalidoTelefoneContato, t.mensagemContatoObrigatoria); $("section .contactForm input[type=submit]").attr("disabled", "disabled"), $(".contactForm").find("#txtTelefone").mask("(00) 00009-0000").focusin(function () { focusIn($(this)) }).focusout(function () { ajustarCelularSP($(this)) }), $(".slider").slideUnlock({ spanInitialValue: o, spanEndValue: n, urlSessionCaptcha: homePage + "Base/Captcha" }), $(".contactForm").on("init.field.bv", function (t, o) { removerIconeValidator(t, o) }).bootstrapValidator({ container: "tooltip", feedbackIcons: { valid: "glyphicon glyphicon-ok", invalid: "glyphicon glyphicon-remove", validating: "glyphicon glyphicon-refresh" }, fields: { nomeContato: { validators: { notEmpty: { message: a } } }, emailContato: { validators: { notEmpty: { message: e }, emailAddress: { message: i } } }, telefoneContato: { validators: { notEmpty: { message: s } } }, mensagemContato: { validators: { notEmpty: { message: l } } } } }).on("success.form.bv", function (t) { return t.preventDefault(), enviandoContato ? !1 : (checarCaptcha($("section#contato .sliderContent")) ? ($("section#contato .sliderContent").find(".sliderTooltip").hide(), enviarEmail()) : $("section#contato .sliderContent").find(".sliderTooltip").show(), !1) }), $(".modal-contato").on("hidden.bs.modal", function () { $(".contactForm").bootstrapValidator("resetForm", !0) }), $(".modal-contato").on("shown.bs.modal", function () { $(".modal-contato").find("#txtNome").focus() }) } function enviarEmail() { enviandoContato = !0; var t = 0 == $("section#contato").find("#txtNome").length ? $(".modal-contato").find("#txtNome") : $("section#contato").find("#txtNome"), o = 0 == $("section#contato").find("#txtEmail").length ? $(".modal-contato").find("#txtEmail") : $("section#contato").find("#txtEmail"), n = 0 == $("section#contato").find("#txtTelefone").length ? $(".modal-contato").find("#txtTelefone") : $("section#contato").find("#txtTelefone"), a = 0 == $("section#contato").find("#txtMensagem").length ? $(".modal-contato").find("#txtMensagem") : $("section#contato").find("#txtMensagem"), e = t.val(), i = o.val(), s = n.val(), l = a.val(), c = homePage + "Base/EnviarContato", d = { nome: e, email: i, telefone: s, mensagem: l }; $.ajax({ type: "POST", url: c, data: d, async: !1, success: function (e) { t.val(""), o.val(""), n.val(""), a.val(""), $(".contactForm").bootstrapValidator("resetForm", !0), enviandoContato = !1, $("section#contato .sliderContent").length > 0 ? $("section#contato .sliderContent").fadeOut().promise().done(function () { $("section#contato .mensagemEnviada").fadeIn() }) : $(".modal-contato .mensagemEnviada").fadeIn(), setTimeout(reiniciarCaptcha, 2e3) }, error: function (t, o, n) { alertaErroJS({ NomeFuncao: "enviarEmail()", ResponseText: t.responseText }) } }) } function reiniciarCaptcha() { $("section#contato .mensagemEnviada").length > 0 ? $("section#contato .mensagemEnviada").fadeOut().promise().done(function () { $("section#contato .sliderContent").fadeIn(), $("section#contato .sliderContent .slider").animate({ left: "0px" }), $("section#contato .sliderContent .slider").draggable("enable"), $("section#contato .sliderContent").find("span").html(spanInitialValue), $("section#contato .sliderContent").find("input[type=hidden]").val("") }) : ($(".modal-contato .mensagemEnviada").fadeOut(), $(".modal-contato").modal("hide")) } var enviandoContato = !1;
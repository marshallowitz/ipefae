function atualizarCursos() { var a = $('select[name="curso"]'), e = $('select[name="curso2"]'), o = $('select[name="curso3"]'); a.find("option").show(), e.find("option").show(), o.find("option").show(); var t = a.val(), r = e.val(), i = o.val(); t > 0 && (e.find('option[value="' + t + '"]').hide(), o.find('option[value="' + t + '"]').hide()), r > 0 && (a.find('option[value="' + r + '"]').hide(), o.find('option[value="' + r + '"]').hide()), i > 0 && (a.find('option[value="' + i + '"]').hide(), e.find('option[value="' + i + '"]').hide()) } function carregarCargosConcurso(a, e) { var o = $("#ddlCargo"), t = homePage + "Concurso/CarregarCargos"; $.ajax({ type: "POST", url: t, data: { idConcurso: a }, async: !1, success: function (a) { o.empty(); var t = a.data ? a.data : a; t.length > 0 && (o.addItems({ data: t, valueName: "Value", textName: "Text" }), o.val(e)) }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "carregarCargosConcurso()", ResponseText: a.responseText }), $.unblockUI() } }) } function carregarOpcoesCurso(a, e, o) { var t = $("#" + o), r = homePage + "Concurso/CarregarCargos"; $.ajax({ type: "POST", url: r, data: { idConcurso: a }, async: !1, success: function (a) { t.empty(); var o = a.data ? a.data : a; o.length > 0 && (t.addItems({ data: o, valueName: "Value", textName: "Text" }), t.val(e), t.prepend("<option value='0' selected='selected'></option>")) }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "carregarOpcoesCurso()", ResponseText: a.responseText }), $.unblockUI() } }) } function carregarEstados(a, e, o, t) { var r = homePage + "Inscrito/CarregarEstados"; $.ajax({ type: "POST", url: r, data: { exibirNome: o }, success: function (o) { a.empty(); var r = o.data ? o.data : o; r.length > 0 && (a.addItems({ data: r, valueName: "Value", textName: "Text" }), a.val(e), "ddlEstado" == a.attr("id") && e > 0 && t > 0 && ($("#ddlEstado").trigger("change"), $("#ddlCidade").val(t))) }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "carregarEstados()", ResponseText: a.responseText }), $.unblockUI() } }) } function carregarTelaDadosInscrito(a, e, o, t, r, i, n, s, d, l, c) { var m = 2 == $("#IdTipoLayoutConcurso").val(); carregarCargosConcurso(a, e), carregarEstados($("#ddlEstado"), r, !0, i), carregarEstados($("#ddlEstadoRG"), o, !1), $("#txtCPF").mask("999.999.999-99"); var u = function (a) { return 11 === a.replace(/\D/g, "").length ? "(00) 00000-0000" : "(00) 0000-00009" }, v = { onKeyPress: function (a, e, o, t) { o.mask(u.apply({}, arguments), t) } }; $("#txtTelefone").mask(u, v), $("#txtCelular").mask(u, v), $("#txtDataNascimento").mask("00/00/0000"), $("#txtCEP").mask("00000-000"), $("#txtFilhosMenores").mask("00"), $("#Id").val() < 0 && $("#txtDataNascimento").val(""); var g = {}; g.est_idt_estado = r, $("#ddlEstado").cascade({ url: homePage + "Inscrito/CarregarCidades", params: g, paramName: "est_idt_estado", childSelect: $("#ddlCidade"), dadosMinimo: 1, emptyText: "Selecione uma cidade", carregando: "Carregando cidades...", async: !1 }), $('input[name="deficiencia"]').on("change", function () { $("#rdDefSim").is(":checked") ? $(".tem-deficiencia").slideDown(500) : ($(".tem-deficiencia").slideUp(500), $('input[name="deficiencia_qual"]').prop("checked", !1), $('input[name="tratamento_especial"]').prop("checked", !1), $('input[name="tratamento_especial_qual"]').val("")) }), $('input[name="tratamento_especial"]').on("change", function () { $("#rdTraSim").is(":checked") ? $(".necessita-tratamento").slideLeft(!0, 500) : ($(".necessita-tratamento").slideLeft(!1, 500), $('input[name="tratamento_especial_qual"]').val("")) }), null != t && void 0 != t && "" != t && $("#ddlEstadoCivil").val(t), n ? $("#rdAtivoSim").attr("checked", "checked") : $("#rdAtivoNao").attr("checked", "checked"), s ? $("#rdIsentoSim").attr("checked", "checked") : $("#rdIsentoNao").attr("checked", "checked"), d ? ($("#rdDefSim").attr("checked", "checked"), $('input[name="deficiencia_qual"][value=' + l + "]").prop("checked", !0), $('input[name="deficiencia"]').trigger("change"), c ? ($("#rdTraSim").attr("checked", "checked"), $('input[name="tratamento_especial"]').trigger("change")) : $("#rdTraNao").attr("checked", "checked")) : $("#rdDefNao").attr("checked", "checked"); var p = new Date; p.dateAdd("year", -14); var f = cpfJaExistente + (m ? "vestibular" : "concurso"); "undefined" != typeof ignorarValidacao && ignorarValidacao || $(".inscritoForm").on("init.field.bv", function (a, e) { removerIconeValidator(a, e) }).bootstrapValidator({ container: "tooltip", feedbackIcons: { valid: "glyphicon glyphicon-ok", invalid: "glyphicon glyphicon-remove", validating: "glyphicon glyphicon-refresh" }, fields: { cargo: { validators: { notEmpty: { message: cargoObrigatorio } } }, curso: { validators: { notEmpty: { message: cursoObrigatorio } } }, nome: { validators: { notEmpty: { message: nomeObrigatorio } } }, email: { validators: { notEmpty: { message: emailObrigatorio }, emailAddress: { message: emailFormatoInvalido } } }, cpf: { validators: { notEmpty: { message: cpfObrigatorio }, callback: { callback: function (e) { if (!validarCpf(e)) return { valid: !1, message: cpfInvalido }; var o = $("#Id").val(), t = !1; return $("#ddlCurso2").length > 0 && (t = validarCPFExistente(o, a, e)), t ? { valid: !1, message: f } : !0 } } } }, rg: { validators: { notEmpty: { message: rgObrigatorio } } }, dataNasc: { validators: { notEmpty: { message: dataNascObrigatorio }, date: { message: dataNascFormatoInvalido, format: "DD/MM/YYYY", min: "01/01/1920", max: formatDateToDDMMYYYY(p) } } }, telefone: { validators: { notEmpty: { message: telefoneObrigatorio } } }, endereco: { validators: { notEmpty: { message: enderecoObrigatorio } } }, nroEndereco: { validators: { notEmpty: { message: nroEnderecoObrigatorio } } }, bairro: { validators: { notEmpty: { message: bairroObrigatorio } } }, cep: { validators: { notEmpty: { message: cepObrigatorio } } }, estado: { validators: { notEmpty: { message: estadoObrigatorio } } }, cidade: { validators: { notEmpty: { message: cidadeObrigatorio } } }, sexo: { validators: { notEmpty: { message: sexoObrigatorio } } }, filhosmenores: { validators: { notEmpty: { message: filhosMenoresObrigatorio } } }, deficiencia_qual: { validators: { notEmpty: { message: qualDeficienciaObrigatorio } } }, tratamento_especial: { validators: { notEmpty: { message: tratamentoEspecialObrigatorio } } }, tratamento_especial_qual: { validators: { notEmpty: { message: qualTratamentoEspecialObrigatorio } } }, rendaMensal: { validators: { notEmpty: { message: rendaMensalObrigatorio } } }, ensinoMedioEm: { validators: { notEmpty: { message: fEMObrigatorio } } }, concluiuEnsinoFundamental: { validators: { notEmpty: { message: cEFObrigatorio } } }, concluiuEnsinoMedio: { validators: { notEmpty: { message: cEMObrigatorio } } }, atividadeRemunerada: { validators: { notEmpty: { message: atividadeRemuneradaObrigatorio } } }, escolaridadePai: { validators: { notEmpty: { message: escolaridadePaiObrigatorio } } }, escolaridadeMae: { validators: { notEmpty: { message: escolaridadaMaeObrigatorio } } }, motivoOptarUniFae: { validators: { notEmpty: { message: motivoUniFaeObrigatorio } } }, motivoOptarCurso: { validators: { notEmpty: { message: motivoCursoObrigatorio } } }, tomouConhecimento: { validators: { notEmpty: { message: ficouSabendoObrigatorio } } }, tomouConhecimentoOutros: { validators: { notEmpty: { message: ficouSabendoOutrosObrigatorio } } } } }).on("success.form.bv", function (a) { a.preventDefault(), salvar() }), $('i[data-bv-icon-for="cargo"]').css("left", "250px"), $('i[data-bv-icon-for="nroEndereco"]').css("left", "50px"), $('i[data-bv-icon-for="filhosmenores"]').css("left", "50px"), $('i[data-bv-icon-for="cidade"]').css("left", "250px"), $('i[data-bv-icon-for="deficiencia_qual"]').css("top", "5px"), $('i[data-bv-icon-for="tratamento_especial"]').css("top", "10px").css("left", "100px") } function carregarTelaDadosInscritoVestibular(a, e, o, t, r, i, n, s, d, l, c, m, u, v, g, p) { carregarOpcoesCurso(e, o, "ddlCurso2"), carregarOpcoesCurso(e, t, "ddlCurso3"), $("#ddlCurso2").val(o), $("#ddlCurso3").val(t), $("#ddlLocalProva").val(r), $("#ddlRendaMensal").val(i), $("#ddlEnsinoMedioEm").val(n), $("#ddlConcluiuEnsinoFundamental").val(s), $("#ddlConcluiuEnsinoMedio").val(d), $("#ddlAtividadeRemunerada").val(l), $("#ddlEscolaridadePai").val(c), $("#ddlEscolaridadeMae").val(m), $("#ddlMotivoOptarUniFae").val(u), $("#ddlMotivoOptarCurso").val(v), $("#ddlTomouConhecimento").val(g), $("#ddlSexo").val(0 > a ? "" : p ? "M" : "F") } function changeComoFicouSabendo() { $("#BotaoAvancar").removeAttr("disabled"), "10" == $("#ddlTomouConhecimento").val() ? ($(".tomou-conhecimento-quais").show(), $(".tomou-conhecimento-quais").find("input").focus()) : ($(".tomou-conhecimento-quais").hide(), $(".tomou-conhecimento-quais").find("input").val("")) } function confirmar(a) { $.blockUI({ message: mensagemSalvando, css: cssCarregando }); var e = homePage + "Concurso/ConfirmarInscricao"; $.ajax({ type: "POST", url: e, success: function (a) { void 0 != a.Mensagem && alert(a.Mensagem), window.location.href = homePage + "Concurso/InscricaoConfirmada", $.unblockUI() }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "confirmar()", ResponseText: a.responseText }), $.unblockUI() } }) } function imprimirBoletoInscrito(a, e) { abrirJanelaPopUpWait(mensagemGerandoBoletoBancario), gerarBoletoBancario(a, e, !1) } function iniciarTelaCadastroInscrito(a, e) { $.blockUI({ message: mensagemCarregando, css: cssCarregando }); var o = homePage + "Admin/Concurso/CarregarInscrito"; $.ajax({ type: "POST", url: o, data: { id: e }, success: function (a) { $(".cadastro-inscrito").html(""), $(".cadastro-inscrito").html(a.View), $.unblockUI() }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "iniciarTelaCadastroInscrito()", ResponseText: a.responseText }), $.unblockUI() } }) } function salvar() { var id = $("#Id").val(), idConcurso = $("#IdConcurso").val(), cargo = $("#ddlCargo").val(), nome = $("#txtNomeCompleto").val(), email = $.trim($("#txtEmail").val()), cpf = removerTodosCaracteresMenosNumeros($("#txtCPF").val()), rg = $.trim($("#txtRG").val()), estado_rg = $("#ddlEstadoRG").val(), dataNasc = $("#txtDataNascimento").val(), estadocivil = $("#ddlEstadoCivil").val(), telefone = removerTodosCaracteresMenosNumeros($("#txtTelefone").val()), celular = removerTodosCaracteresMenosNumeros($("#txtCelular").val()), endereco = $("#txtEndereco").val(), nroEndereco = $("#txtNroEndereco").val(), complemento = $("#txtComplemento").val(), bairro = $("#txtBairro").val(), cep = removerTodosCaracteresMenosNumeros($("#txtCEP").val()), cidade = $("#ddlCidade").val(), filhosmenores = removerTodosCaracteresMenosNumeros($("#txtFilhosMenores").val()), possuiDef = $("#rdDefSim").is(":checked"), deficiencia_qual = possuiDef ? $('input[name="deficiencia_qual"]:checked').val() : null, necessitaTratEsp = possuiDef ? $("#rdTraSim").is(":checked") : !1, tratamento_especial_qual = necessitaTratEsp ? $("#txtTratamentoEspecialQual").val() : null, ico_bit_ativo = 0 == id ? !0 : $("#rdAtivoSim").is(":checked"), ico_bit_pago = "" != $("#Pagou").val() ? eval($("#Pagou").val().toLowerCase()) : !1, dataInscricao = $("#DataInscricao").val(), dataPagamento = $("#DataPagamento").val(), valorPago = $("#ValorPago").val(), isento = $("#rdIsentoSim").is(":checked"), nomeConcurso = 0 == $("#hdnNomeConcurso").length ? "" : $("#hdnNomeConcurso").val(), nomeCargo = $("#ddlCargo option:selected").html(), estado_rg_string = $("#ddlEstadoRG option:selected").html(), nomeCidade = $("#ddlCidade option:selected").html(), nomeEstado = $("#ddlEstado option:selected").html(), idEstado = $("#ddlEstado").val(), salvarBanco = 0 == $("#hdnSalvarBanco").length ? !0 : $("#hdnSalvarBanco").val(); if (null === email || void 0 === email || "" == email) return void alert(emailObrigatorio); $.blockUI({ message: mensagemSalvando, css: cssCarregando }); var url = homePage + "Inscrito/Salvar"; $.ajax({ type: "POST", url: url, data: { id: id, idConcurso: idConcurso, idCargo: cargo, nome: nome, email: email, cpf: cpf, rg: rg, estado_rg: estado_rg, dataNasc: dataNasc, estadocivil: estadocivil, telefone: telefone, celular: celular, endereco: endereco, nroEndereco: nroEndereco, complemento: complemento, bairro: bairro, cep: cep, idCidade: cidade, filhosmenores: filhosmenores, possuiDef: possuiDef, deficiencia_qual: deficiencia_qual, necessitaTratEsp: necessitaTratEsp, tratamento_especial_qual: tratamento_especial_qual, ico_bit_ativo: ico_bit_ativo, ico_bit_pago: ico_bit_pago, dataInscricao: dataInscricao, dataPagamento: dataPagamento, valorPago: valorPago, isento: isento, salvarBanco: salvarBanco, nomeConcurso: nomeConcurso, nomeCargo: nomeCargo, estado_rg_string: estado_rg_string, nomeCidade: nomeCidade, nomeEstado: nomeEstado, idEstado: idEstado }, success: function (retorno) { eval(salvarBanco) && void 0 != retorno.Mensagem && alert(retorno.Mensagem), retorno.EhVestibular && salvarVestibular(retorno.Id); var tRetorno = telaRetornoSalvar; "" === tRetorno && (tRetorno = homePage + "Admin/Concurso/Index_Inscrito/" + idConcurso), retorno.Sucesso && (window.location.href = tRetorno), $.unblockUI() }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "salvar()", ResponseText: a.responseText }), $.unblockUI() } }) } function salvarVestibular(a) { var e = $("#IdConcurso").val(), o = "" == $("#ddlCurso2").val() ? null : $("#ddlCurso2").val(), t = "" == $("#ddlCurso3").val() ? null : $("#ddlCurso3").val(), r = $("#ddlLocalProva").val(), i = "M" == $("#ddlSexo").val(), n = $("#txtNomeIndicado").val(), s = $("#txtCursoIndicado").val(), d = $("#txtSemestreCursoIndicado").val(), l = "0" == $("#ddlEscolaridadeMae").val() ? null : $("#ddlEscolaridadeMae").val(), c = "0" == $("#ddlEscolaridadePai").val() ? null : $("#ddlEscolaridadePai").val(), m = "0" == $("#ddlAtividadeRemunerada").val() ? null : $("#ddlAtividadeRemunerada").val(), u = "0" == $("#ddlMotivoOptarCurso").val() ? null : $("#ddlMotivoOptarCurso").val(), v = "0" == $("#ddlMotivoOptarUniFae").val() ? null : $("#ddlMotivoOptarUniFae").val(), g = "0" == $("#ddlRendaMensal").val() ? null : $("#ddlRendaMensal").val(), p = "" == $("#ddlConcluiuEnsinoFundamental").val() ? null : $("#ddlConcluiuEnsinoFundamental").val(), f = "0" == $("#ddlConcluiuEnsinoMedio").val() ? null : $("#ddlConcluiuEnsinoMedio").val(), C = "0" == $("#ddlEnsinoMedioEm").val() ? null : $("#ddlEnsinoMedioEm").val(), E = "0" == $("#ddlTomouConhecimento").val() ? null : $("#ddlTomouConhecimento").val(), h = $("#txtTomouConhecimentoOutros").val(), b = 0 == $("#hdnSalvarBanco").length ? !0 : $("#hdnSalvarBanco").val(), x = homePage + "Inscrito/SalvarVestibular"; $.ajax({ type: "POST", url: x, async: !1, data: { id: a, idConcurso: e, idOpcao2: o, idOpcao3: t, localProva: r, ehMasculino: i, indicadoPor: n, cursoIndicadoPor: s, semestreIndicadoPor: d, escolaridadeMae: l, escolaridadePai: c, exerceAtividadeRemunerada: m, motivoOptouCurso: u, motivoOptouUnifae: v, rendaMensal: g, tipoCEF: p, tipoCEM: f, tipoEM: C, tcnf: E, tcnfOutros: h, salvarBanco: b }, success: function (a) { }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "salvarVestibular()", ResponseText: a.responseText }) } }) } function validarCPFExistente(a, e, o) { var t = !1, r = homePage + "Inscrito/ValidarCPFExistente"; return $.ajax({ type: "POST", url: r, async: !1, data: { id: a, idConcurso: e, cpf: removerTodosCaracteresMenosNumeros(o) }, success: function (a) { t = a.Existe }, error: function (a, e, o) { alertaErroJS({ NomeFuncao: "validarCPFExistente()", ResponseText: a.responseText }) } }), t } var oTable;